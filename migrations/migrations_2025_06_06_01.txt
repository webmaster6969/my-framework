CREATE TABLE users (id INT AUTO_INCREMENT NOT NULL,
name VARCHAR(100) NOT NULL,
email VARCHAR(255) NOT NULL,
password VARCHAR(255) NOT NULL,
encryption_key VARCHAR(50) DEFAULT NULL,
google2faSecret VARCHAR(255) DEFAULT NULL,
telegramChatId VARCHAR(50) DEFAULT NULL,
created_at DATETIME NOT NULL,
updated_at DATETIME NOT NULL,
UNIQUE INDEX UNIQ_1483A5E9E7927C74 (email),
PRIMARY KEY(id)) DEFAULT CHARACTER SET
utf8mb4;

CREATE TABLE tasks (id INT AUTO_INCREMENT NOT NULL,
user_id INT NOT NULL,
title VARCHAR(255) NOT NULL,
description LONGTEXT DEFAULT NULL,
start_task DATETIME NOT NULL,
end_task DATETIME NOT NULL,
status VARCHAR(20) NOT NULL,
created_at DATETIME NOT NULL,
updated_at DATETIME NOT NULL,
INDEX IDX_50586597A76ED395 (user_id),
INDEX idx_task_user_date (user_id,
start_task,
end_task),
PRIMARY KEY(id)) DEFAULT CHARACTER SET
utf8mb4;
ALTER TABLE tasks ADD CONSTRAINT FK_50586597A76ED395 FOREIGN KEY (user_id) REFERENCES users (id);